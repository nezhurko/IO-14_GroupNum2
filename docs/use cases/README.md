# Модель прецедентів

## Діаграма прецендентів
@startuml
actor "Користувач" as User 
    actor "Гість" as Guest 
    actor "Адміністратор" as Admin #red
    

    usecase "Зареєструватись" as Case1
    usecase "Авторизуватись" as Case2
    usecase "Перегляд документів" as Case4
    usecase "Управління сайтом та даними" as Case5
    usecase "Завантаження даних та перегляд" as Case3
    
    User -up-|> Guest
    Admin -up-|> User


    Guest -up-> Case1
    Guest -up-> Case2
    Guest -up-> Case4
    User -l-> Case3  
    Admin -down-> Case5

@enduml

### Usecases для гостя

@startuml
actor "Гість" as Guest #red

    usecase "Зареєструватись" as GuestCase1
    usecase "Авторизуватись" as GuestCase2
    usecase "Переглянуті документ" as GuestCase3
    
    Guest -d-> GuestCase1
    Guest -d-> GuestCase2
    Guest -d-> GuestCase3
@enduml

### Usecases для користувача

@startuml
actor "Користувач" as User 

    usecase "Завантаження даних та перегляд" as UserCase
    
    usecase "редагування даних" as case1 #c7e8ff
    usecase "Завантаження даних" as case2 #c7e8ff 
    usecase "Перегляд" as case3 #c7e8ff
    usecase "Генерація таблиці" as case4 #c7e8ff
    
    User -down-> UserCase
    
    case1 -up..> UserCase :extends
    case2 -up..> UserCase :extends
    case3 -up..> UserCase :extends
    case4 -up..> UserCase :extends
@enduml

### Usecases для адміністратора

@startuml
actor "Адміністратор" as Admin 

    usecase "Управління сайтом" as Case
    usecase "Створеня документів" as case1 #c7e8ff
    usecase "Видалення документів" as case2 #c7e8ff
    usecase "Надання прав користувачам" as case3 #c7e8ff
    usecase "блокування користувачів" as case4 #c7e8ff
    
    Admin -down-> Case
    
    case1 .r.> Case :extends
    case2 .u.> Case :extends
    case3 .u.> Case :extends
    case4 .l.> Case :extends
@enduml

 ###  Сценарії

| ID                 | GUEST_REGISTRATION                                           |
| :----------------- | :----------------------------------------------------------- |
| Назва:             | Створити обліковий запис                                     |
| Учасники:          | Гість, система                                               |
| Передумови:        | Гість не має облікового запису                               |
| Результат:         | Обліковий запис користувача                                  |
| Виключні ситуації: | Гість залишив пустими обов'язкові поля реєстраційної форми - NOREGISTRATION_DATA<br>Гість вже зареєстрований у системі - REGISTRATION_DENY |

@startuml
    |Гість|
        start
        : Натискає кнопку "Створити обліковий запис";

    |Система|
        : Виводить форму реєстрації;
    
    |Гість|
        : Заповнює форму реєстрації;
        : Натискає кнопку "Зареєструватися";
        note right #ffaaaa
        <b> Можлива
        <b> NOREGISTRATION_DATA
        end note
    
    |Система|
        : Перевіряє наявність
        облікового запису користувача;
        note right #ffaaaa
        <b> Можлива
        <b> REGISTRATION_DENY
        end note
    
        : Створює новий обліковий запис;
        : Повідомляє користувача
        про успішну реєстрацію;
    
    |Гість|
        stop;
@enduml

| ID                 | GUEST_AUTHORIZATION                                          |
| :----------------- | :----------------------------------------------------------- |
| Назва:             | Авторизувати користувача                                     |
| Учасники:          | Гість, система                                               |
| Передумови:        | Гість зареєстрований у системі                               |
| Результат:         | Авторизація користувача                                      |
| Виключні ситуації: | У авторизаційній формі не заповнені одне або більше полів - AUTHORIZATION_NODATA<br>Користувач не зареєстрований у системі - ACCOUNT_DOESENT_EXIST<br>Користувач ввів неправильний пароль - AUTHORIZATION_DENY |


@startuml
|Гість|
        start
        : Натискає кнопку "Авторизуватися";

    |Система|
        : Виводить форму Авторизації;
    
    |Гість|
        : Заповнює форму Авторизації;
        : Натискає кнопку "Зареєструватися";
        : Гість натискає кнопку "Увійти";
    
    |Система|
        : Перевіряє наявність
        облікового запису користувача;
        note right #ffaaaa
        <b> Можлива
        <b>  ACCOUNT_DOESNT_EXIST
        end note
        : Система перевіряє отримані авторизаційні дані;
        note right #ffaaaa
        <b> Можлива
        <b> AUTHORIZATION_DENY
        end note
        : Авторизує користувача;
        : Надає доступ користувачу до облікового запису;
        : Перевіряє отримані авторизаційні дані;
    |Гість|
        stop;
@enduml

| ID                 | GUEST_VIEW                                                   |
| :----------------- | :----------------------------------------------------------- |
| Назва:             | Переглянути дані                                             |
| Учасники:          | Гість, система                                               |
| Передумови:        | Відсутні                                                     |
| Результат:         | Дані на перегляд                                             |
| Виключні ситуації: | Даний документ не готовий до перегляду - ACSESS_TO_DOC_DENY  |


@startuml
|Гість|
        start
        : Натискає кнопку "Переглянути";

    |Система|
        : Виводить перелік готових проєктів;
    
    |Гість|
        : Обирає з переліку документ;
        : Натискає кнопку "Переглянути";
        : Гість натискає кнопку "Увійти";
    
    |Система|
        : Оброблює запит гостя;
        note right #ffaaaa
        <b> Можлива
        <b> ACSESS_TO_DOC_DENY
        end note
        : Надає доступ користувачу;
    
     |Гість|
        stop;
@enduml

### Користувач

| ID                 | USER_GENERATE_TABLE                                          |
| :----------------- | :----------------------------------------------------------- |
| Назва:             | Згенерувати таблицю                                          |
| Учасники:          | Користувач, система                                          |
| Передумови:        | Користувач зареєстрований у системі                          |
| Результат:         | Згенерована таблиця                                          |
| Виключні ситуації: | Не вибраний документ - GENERATION_NODOC<br>Мало даних для генерації таблиці - GENERATION_NODATA<br> |


@startuml
|користувач|
        start
        : Натискає кнопку "Генерація таблиці";

    |Система|
        : Виводить перелік готових проєктів;
    
    |користувач|
        : Обирає з переліку документ;
        : Натискає кнопку "Генерувати";
     
    |Система|
        : Оброблює запит гостя;
        note right #ffaaaa
        <b> Можлива
        <b> GENERATION_NODOC
        end note
        : Надає доступ користувачу
          до згенерованої таблиці;
    
     |користувач|
        stop;
@enduml

| ID                 | USER_ADD_DATA                                                |
| :----------------- | :----------------------------------------------------------- |
| Назва:             | Завантажувати новий документ                                 |
| Учасники:          | Користувач, система                                          |
| Передумови:        | Користувач зареєстрований у системі                          |
| Результат:         | Новий документ у системі                                     |
| Виключні ситуації: | Неавторизований користувач - NOT_AUTHORIZATION<br>Такий набір даних вже існує в системі - DOC_ALREADY_EXIST |


@startuml
|користувач|
        start
        : Натискає кнопку "Завантажити документ";

    |Система|
        : Перевіряє на авторизацію;
        note right #ffaaaa
        <b> Можлива
        <b> NOT_AUTHORIZATION
        end note
        : Надає доступ до завантаження;
    
    |користувач|
        : Обирає документ;
        : Натискає кнопку "Завантажити";
     
    |Система|
        : Оброблює запит гостя;
        note right #ffaaaa
        <b> Можлива
        <b> DOC_ALREADY_EXIST
        end note
        : Додає новий документ;
        : Повідомляє користувачу
 про успішність операції;

     |користувач|
        stop;
@enduml

| ID                 | USER_CHANGE_DATA                                             |
| :----------------- | :----------------------------------------------------------- |
| Назва:             | Редагувати існуючий набір даних                              |
| Учасники:          | Користувач, система                                          |
| Передумови:        | Користувач зареєстрований у системі                          |
| Результат:         | Редагований набір даних у системі                            |
| Виключні ситуації: | Неавторизований користувач - NOT_AUTHORIZATION<br>Такий набір даних не існує в системі - DOC_DOESENT_EXIST |


@startuml
|користувач|
        start
        : Натискає кнопку "Редагувати набір даних";

    |Система|
        : Система перевіряє на авторизацію;
        note right #ffaaaa
        <b> Можлива
        <b> NOT_AUTHORIZATION
        end note
        : Система надає доступ до редагування;
    
    |користувач|
        : Редагує документ;
        : Натискає кнопку "Зберегти";
     
    |Система|
        : Оброблює запит гостя;
        : Зберігає зміни;
        : Пповідомляє користувачу
 про успішність операції;

     |користувач|
        stop;
@enduml

### Адміністратор

| ID                 | ADM_DELETE_DATA                                              |
| :----------------- | :----------------------------------------------------------- |
| Назва:             | Видалити існуючий документ                                   |
| Учасники:          | Адміністратор, система                                       |
| Передумови:        | Адміністратор зареєстрований у системі                       |
| Результат:         | Видалений документ                                           |
| Виключні ситуації: | Неавторизований користувач - NOT_AUTHORIZATION<br>Такий набір даних не існує в системі - DOC_DOESENT_EXIST |

@startuml
|Адміністратор|
        start
        : Натискає кнопку "Видалити документ";

    |Система|
        : Система перевіряє на авторизацію;
        note right #ffaaaa
        <b> Можлива
        <b> NOT_AUTHORIZATION
        end note
        : Система надає доступ до видалення;
         note right #ffaaaa
        <b> Можлива
        <b> DOC_DOESENT_EXIST
        end note
    
    |Адміністратор|
        : Видаляє документ;
        : Натискає кнопку "Підтвердити";
     
    |Система|
        : Оброблює запит гостя;
        : Видаляє документ;
        : Повідомляє користувачу
 про успішність операції;

     |Адміністратор|
        stop;
@enduml

| ID                 | ADM_BLOCK_USER                                               |
| :----------------- | :----------------------------------------------------------- |
| Назва:             | Блокувати користувача                                        |
| Учасники:          | Адміністратор, система                                       |
| Передумови:        | Адміністратор зареєстрований у системі                       |
| Результат:         | Заблокований користувач                                      |
| Виключні ситуації: | Неавторизований користувач - NOT_AUTHORIZATION<br>Такий набір даних не існує в системі - User_DOESENT_EXIST |

@startuml
|Адміністратор|
        start
        : Натискає кнопку "блокувати користувача";

    |Система|
        : Перевіряє на авторизацію;
        note right #ffaaaa
        <b> Можлива
        <b> NOT_AUTHORIZATION
        end note
        : Перевіряє обліковий запис користувача;
         note right #ffaaaa
        <b> Можлива
        <b> User_DOESENT_EXIST
        end note
        : Надає доступ до блокування;
    
    |Адміністратор|
        : Видаляє документ;
        : Натискає кнопку "Підтвердити";
     
    |Система|
        : Оброблює запит адміністратора;
        : Видаляє документ;
        : Повідомляє користувачу
 про успішність операції;

     |Адміністратор|
        stop;
@enduml

| ID                 | ADM_MAKE_NEWADM                                              |
| :----------------- | :----------------------------------------------------------- |
| Назва:             | Надати права адміністратора                                  |
| Учасники:          | Адміністратор, система                                       |
| Передумови:        | Адміністратор зареєстрований у системі                       |
| Результат:         | Новий адміністратор в системі                                |
| Виключні ситуації: | Неавторизований користувач - NOT_AUTHORIZATION<br>Такий набір даних не існує в системі - User_DOESENT_EXIST |


@startuml
|Адміністратор|
        start
        : Натискає кнопку "видати права адміністратора";

    |Система|
        : Перевіряє на авторизацію;
        note right #ffaaaa
        <b> Можлива
        <b> NOT_AUTHORIZATION
        end note
        : Надає форму на заповнення;
    
    |Адміністратор|
        : Заповняє в форму
 реєстраційні дані користувача;
        : Натискає кнопку "Підтвердити";

    |Система|
        : Оброблює запит адміністратора;
: Перевіряє обліковий запис користувача;
         note right #ffaaaa
        <b> Можлива
        <b> User_DOESENT_EXIST
        end note
        : Видає права адміністратора користувачу;
        : Повідомляє користувачу
 про успішність операції;

     |Адміністратор|
        stop;
@enduml
